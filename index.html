<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Organic Farm Food UK – Home</title>
  <!-- Leaflet CSS for interactive map -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-sA+8FJGkS1EWilIYCHAbGYQ7hOZQ5hZl3lGClNf5VTc="
    crossorigin=""
  />
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #fcf9f1;
      color: #333;
    }
    header {
      background-color: #a8dadc;
      padding: 20px;
      text-align: center;
      color: #062925;
    }
    header h1 {
      margin: 0;
      font-size: 2.4em;
    }
    header p {
      margin-top: 5px;
      font-size: 1.1em;
    }
    nav {
      background-color: #f1faee;
      display: flex;
      justify-content: center;
      gap: 15px;
      padding: 10px;
      flex-wrap: wrap;
    }
    nav a {
      color: #1d3557;
      text-decoration: none;
      padding: 6px 12px;
      border-radius: 4px;
      background-color: #d4e9e2;
    }
    nav a:hover {
      background-color: #c2d8cf;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
    }
    .search-bar {
      margin: 20px 0;
      display: flex;
      gap: 10px;
    }
    .search-bar input,
    .search-bar select,
    .search-bar button {
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 1em;
    }
    .search-bar button {
      background-color: #457b9d;
      color: #fff;
      border: none;
      cursor: pointer;
    }
    .search-bar button:hover {
      background-color: #355a75;
    }
    #map {
      width: 100%;
      height: 400px;
      margin-top: 20px;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    footer {
      text-align: center;
      padding: 20px;
      background-color: #a8dadc;
      color: #062925;
      margin-top: 40px;
    }
  </style>
</head>
<body>
  <header>
    <h1>Organic Farm Food UK</h1>
    <p>Your guide to organic farm shops, veg boxes and local produce</p>
  </header>
  <nav>
    <a href="index.html">Home</a>
    <a href="search.html">Search</a>
    <a href="directory.html">Directory</a>
    <a href="news.html">News</a>
  </nav>
  <div class="container">
    <h2>Welcome</h2>
    <p>Use the search bar below to find farms, veg‑box schemes and organic stores by city, category or keyword. Explore the map to see where our listings are located across the UK.</p>
    <!-- Search bar on home page -->
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Search by city, postcode or keyword" />
      <button onclick="performHomeSearch()">Search</button>
    </div>
    <!-- Interactive map -->
    <div id="map"></div>
  </div>
  <footer>
    &copy; 2025 Organic Farm Food UK. Helping you find organic food locally.
  </footer>
  <!-- Leaflet JS -->
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-o9N1j7J5LEbYieaXW8uZaPJXsb4sPxDj1Ee4xhu8roM="
    crossorigin=""
  ></script>
  <script>
    // Dataset of listings with approximate coordinates per city
    const listings = [
      { name: "East Coast Organics", city: "Edinburgh", lat: 55.9533, lon: -3.1883 },
      { name: "Craigies Farm Shop", city: "Edinburgh", lat: 55.9533, lon: -3.1883 },
      { name: "The Free Company", city: "Edinburgh", lat: 55.9533, lon: -3.1883 },
      { name: "Real Foods", city: "Edinburgh", lat: 55.9533, lon: -3.1883 },
      { name: "Damhead Organic Farm", city: "Edinburgh", lat: 55.9533, lon: -3.1883 },
      { name: "Locavore", city: "Glasgow", lat: 55.8642, lon: -4.2518 },
      { name: "Barnhill Farm", city: "Glasgow", lat: 55.8642, lon: -4.2518 },
      { name: "Auchengree Farm Shop", city: "Glasgow", lat: 55.8642, lon: -4.2518 },
      { name: "Grewar’s Farm Shop", city: "Dundee", lat: 56.462, lon: -2.9707 },
      { name: "Arbuckle’s Farm Shop", city: "Dundee", lat: 56.462, lon: -2.9707 },
      { name: "Macleod Organics", city: "Inverness", lat: 57.4778, lon: -4.2247 },
      { name: "Natural Vegetable Company", city: "Inverness", lat: 57.4778, lon: -4.2247 },
      { name: "Knockfarrel Produce", city: "Inverness", lat: 57.4778, lon: -4.2247 },
      { name: "Druid Temple Farm Shop", city: "Inverness", lat: 57.4778, lon: -4.2247 },
      { name: "Farm Ness", city: "Inverness", lat: 57.4778, lon: -4.2247 },
      { name: "Black Isle Dairy", city: "Inverness", lat: 57.4778, lon: -4.2247 },
      { name: "Invercannich Farm", city: "Inverness", lat: 57.4778, lon: -4.2247 },
      { name: "North East Organic Growers", city: "Newcastle", lat: 54.9783, lon: -1.6178 },
      { name: "The Paddock", city: "Newcastle", lat: 54.9783, lon: -1.6178 },
      { name: "Ernie (Ouseburn)", city: "Newcastle", lat: 54.9783, lon: -1.6178 },
      { name: "Goodness Growing", city: "York", lat: 53.959, lon: -1.0873 },
      { name: "Newfields Organics", city: "York", lat: 53.959, lon: -1.0873 },
      { name: "Millies York", city: "York", lat: 53.959, lon: -1.0873 },
      { name: "Veg Box People", city: "Manchester", lat: 53.4808, lon: -2.2426 },
      { name: "Unicorn Grocery", city: "Manchester", lat: 53.4808, lon: -2.2426 },
      { name: "OrganicLea", city: "London", lat: 51.5074, lon: -0.1278 },
      { name: "Growing Communities", city: "London", lat: 51.5074, lon: -0.1278 },
      { name: "Kentish Town Vegbox", city: "London", lat: 51.5074, lon: -0.1278 },
      { name: "Becketts Farm Shop", city: "Birmingham", lat: 52.4862, lon: -1.8904 },
      { name: "Chase Farm Shop & Café", city: "Birmingham", lat: 52.4862, lon: -1.8904 },
      { name: "Rossiters Organic Butchers", city: "Birmingham", lat: 52.4862, lon: -1.8904 },
      { name: "Pick’s Organic Farm", city: "Leicester", lat: 52.6369, lon: -1.1398 },
      { name: "Polebrook Hayes Farm", city: "Leicester", lat: 52.6369, lon: -1.1398 },
      { name: "Paul’s Organics / Soyfoods", city: "Leicester", lat: 52.6369, lon: -1.1398 },
      { name: "Windmill Wholefoods", city: "Liverpool", lat: 53.4084, lon: -2.9916 },
      { name: "SQUASH", city: "Liverpool", lat: 53.4084, lon: -2.9916 },
      { name: "Lyncroft Farm", city: "Liverpool", lat: 53.4084, lon: -2.9916 },
      { name: "Coed Organic", city: "Cardiff", lat: 51.4816, lon: -3.1791 },
      { name: "Slade Farm Organics", city: "Cardiff", lat: 51.4816, lon: -3.1791 },
      { name: "Paul’s Organic Veg", city: "Cardiff", lat: 51.4816, lon: -3.1791 },
      { name: "Bridgefoot Organic Co-operative", city: "Aberdeen", lat: 57.1497, lon: -2.0943 },
      { name: "Vegaroonitoon (CFINE)", city: "Aberdeen", lat: 57.1497, lon: -2.0943 }
    ];

    // Initialise map
    const map = L.map('map').setView([55.3781, -3.4360], 5); // centre of UK
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 18,
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);
    // Add markers
    listings.forEach((item) => {
      L.marker([item.lat, item.lon]).addTo(map).bindPopup('<strong>' + item.name + '</strong><br>' + item.city);
    });

    function performHomeSearch() {
      const query = document.getElementById('searchInput').value.trim();
      if (query.length > 0) {
        // redirect to search page with query parameters
        const url = new URL('search.html', window.location.href);
        url.searchParams.set('q', query);
        window.location.href = url.toString();
      }
    }
  </script>
</body>
</html>